<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>R Tips 1.md « Rikith's Blog</title>
  <meta name="description" content="layout: posttitle:  "Kiss of Death"date:   2014-12-30 09:00:13categories: lifepermalink: /archivers/testFilter unique values from a multivalued column in R==...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/archivers/R-tips-1.md">
  <link rel="alternate" type="application/rss+xml" title="Rikith's Blog" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">Rikith's Blog</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/category/">Category</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">R Tips 1.md</h1>
    <p class="post-meta">Dec 9, 2018</p>
  </header>

  <article class="post-content">
    layout: post
title:  "Kiss of Death"
date:   2014-12-30 09:00:13
categories: life
permalink: /archivers/test
Filter unique values from a multivalued column in R
===================================================

Look at the following data

``` r
library(tidyverse)
```

    ## ── Attaching packages ───────────────────────────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.1.0     ✔ purrr   0.2.5
    ## ✔ tibble  1.4.2     ✔ dplyr   0.7.8
    ## ✔ tidyr   0.8.2     ✔ stringr 1.3.1
    ## ✔ readr   1.2.1     ✔ forcats 0.3.0

    ## ── Conflicts ──────────────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
df <- read.csv('../data/books.csv')
temp <- df %>% 
        select(original_title,authors)
head(temp)
```

    ##                             original_title                     authors
    ## 1                         The Hunger Games             Suzanne Collins
    ## 2 Harry Potter and the Philosopher's Stone J.K. Rowling, Mary GrandPré
    ## 3                                 Twilight             Stephenie Meyer
    ## 4                    To Kill a Mockingbird                  Harper Lee
    ## 5                         The Great Gatsby         F. Scott Fitzgerald
    ## 6                   The Fault in Our Stars                  John Green

Lets say you want to pull out all names of unique authors from the dataframe. Notice that the column authors is multivalued for the book Harry Potter and the Philosophers Stone, hence we need to first convert the column into a single valued and then find all unique elements in them. The function `separate_rows` can be used to make single valued rows from a multi-valued rows.

``` r
temp <- separate_rows(df,authors,sep = ',') 
head(temp %>% select(original_title,authors))
```

    ##                             original_title             authors
    ## 1                         The Hunger Games     Suzanne Collins
    ## 2 Harry Potter and the Philosopher's Stone        J.K. Rowling
    ## 3 Harry Potter and the Philosopher's Stone       Mary GrandPré
    ## 4                                 Twilight     Stephenie Meyer
    ## 5                    To Kill a Mockingbird          Harper Lee
    ## 6                         The Great Gatsby F. Scott Fitzgerald

Notice that there are no multivalued values in authors column, the authours of Harry Potter have been seperated as two different rows. Now we can use the `unique` function to find all the unique authors for the dataset.

``` r
unique_authors <- unique(temp$authors)
unique_authors[2]
```

    ## [1] "J.K. Rowling"

Further performing operations like finding all books of the author

``` r
df %>% 
  filter(grepl(unique_authors[2], authors)) %>%
  select(authors,original_title) %>% head()
```

    ##                                   authors
    ## 1             J.K. Rowling, Mary GrandPré
    ## 2 J.K. Rowling, Mary GrandPré, Rufus Beck
    ## 3             J.K. Rowling, Mary GrandPré
    ## 4             J.K. Rowling, Mary GrandPré
    ## 5             J.K. Rowling, Mary GrandPré
    ## 6             J.K. Rowling, Mary GrandPré
    ##                              original_title
    ## 1  Harry Potter and the Philosopher's Stone
    ## 2  Harry Potter and the Prisoner of Azkaban
    ## 3 Harry Potter and the Order of the Phoenix
    ## 4   Harry Potter and the Chamber of Secrets
    ## 5       Harry Potter and the Goblet of Fire
    ## 6      Harry Potter and the Deathly Hallows

  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="http://rikithreddy.github.io/assets/images/profile.JPG" alt="Rikith Reddy">
  <div class="col-box-title name">Rikith Reddy</div>
  <p>Solve intelligence and then use intelligence to solve everything else</p>
  <p class="contact">
    
    <a href="https://github.com/rikithreddy">GitHub</a>
    
    
    
    <a href="mailto:rikith.legend@gmail.com">Email</a>
    
    <a href="https://github.com/rikithreddy">GitHub</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">Newest Posts</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/R/tips/1">Filtering unique values from multivalued fields- R tips #1</a></li>
    
      <li><a class="post-link" href="/archivers/R-tips-1.md">R Tips 1.md</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">TOC</div>
</div>

        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2018 Rikith Reddy
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>


  </body>

</html>
